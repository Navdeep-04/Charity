{
  "version": 3,
  "sources": ["src/app/auth/login/login.component.ts"],
  "sourcesContent": ["import { Component } from '@angular/core';\r\nimport { Router, RouterLink } from '@angular/router';\r\nimport { AuthService } from '../../shared/services/auth.service';\r\nimport { TokenService } from '../../shared/services/token.service';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { NgIf } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  standalone: true,\r\n  imports: [RouterLink, FormsModule, NgIf, MatCardModule, MatButtonModule, MatIconModule, MatFormFieldModule, MatInputModule, MatProgressSpinnerModule],\r\n  template: `\r\n    <div class=\"auth-page\">\r\n      <div class=\"auth-container\">\r\n        <div class=\"auth-image\">\r\n          <img src=\"https://images.unsplash.com/photo-1559027615-cd4628902d4a?w=600&h=800&fit=crop\" alt=\"donation\">\r\n          <div class=\"image-overlay\">\r\n            <h2>Welcome Back</h2>\r\n            <p>Continue making a difference in people's lives</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"auth-form\">\r\n          <mat-card class=\"login-card\">\r\n            <mat-card-header>\r\n              <mat-card-title>\r\n                <mat-icon>login</mat-icon>\r\n                Sign in to your account\r\n              </mat-card-title>\r\n            </mat-card-header>\r\n            \r\n            <mat-card-content>\r\n              <form (ngSubmit)=\"onLogin()\" class=\"login-form\">\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Email</mat-label>\r\n                  <input matInput type=\"email\" [(ngModel)]=\"formData.email\" name=\"email\" required>\r\n                  <mat-icon matSuffix>email</mat-icon>\r\n                </mat-form-field>\r\n\r\n                <mat-form-field appearance=\"outline\">\r\n                  <mat-label>Password</mat-label>\r\n                  <input matInput type=\"password\" [(ngModel)]=\"formData.password\" name=\"password\" required>\r\n                  <mat-icon matSuffix>lock</mat-icon>\r\n                </mat-form-field>\r\n\r\n                <div class=\"form-actions\">\r\n                  <button mat-raised-button color=\"primary\" type=\"submit\" [disabled]=\"loading\" class=\"login-btn\">\r\n                    <mat-spinner *ngIf=\"loading\" diameter=\"20\"></mat-spinner>\r\n                    <mat-icon *ngIf=\"!loading\">login</mat-icon>\r\n                    {{ loading ? 'Signing in...' : 'Sign In' }}\r\n                  </button>\r\n                </div>\r\n\r\n                <div class=\"form-links\">\r\n                  <a mat-button routerLink=\"/forgot-password\" color=\"primary\">\r\n                    <mat-icon>help</mat-icon>\r\n                    Forgot Password?\r\n                  </a>\r\n                </div>\r\n              </form>\r\n            </mat-card-content>\r\n            \r\n            <mat-card-actions>\r\n              <div class=\"signup-link\">\r\n                <span>Don't have an account?</span>\r\n                <button mat-flat-button color=\"primary\" routerLink=\"/signup\" aria-label=\"Create account\" class=\"create-account-btn\">\r\n                  <mat-icon>person_add</mat-icon>\r\n                  Create Account\r\n                </button>\r\n              </div>\r\n            </mat-card-actions>\r\n          </mat-card>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .auth-page {\r\n      min-height: 100vh;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      background: linear-gradient(135deg, var(--primary-light) 0%, #fce4ec 100%);\r\n      padding: 2rem 1rem;\r\n    }\r\n\r\n    .auth-container {\r\n      display: grid;\r\n      grid-template-columns: 1fr 1fr;\r\n      max-width: 1000px;\r\n      width: 100%;\r\n      background: var(--surface);\r\n      border-radius: var(--radius-lg);\r\n      overflow: hidden;\r\n      box-shadow: var(--shadow-hover);\r\n    }\r\n\r\n    .auth-image {\r\n      position: relative;\r\n      overflow: hidden;\r\n    }\r\n\r\n    .auth-image img {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: cover;\r\n    }\r\n\r\n    .image-overlay {\r\n      position: absolute;\r\n      bottom: 0;\r\n      left: 0;\r\n      right: 0;\r\n      background: linear-gradient(transparent, rgba(0,0,0,0.8));\r\n      color: white;\r\n      padding: 2rem;\r\n    }\r\n\r\n    .image-overlay h2 {\r\n      font-size: 2rem;\r\n      font-weight: 600;\r\n      margin-bottom: 0.5rem;\r\n    }\r\n\r\n    .auth-form {\r\n      padding: 3rem 2rem;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n    }\r\n\r\n    .login-card {\r\n      width: 100%;\r\n      max-width: 400px;\r\n      border: none;\r\n      box-shadow: none;\r\n    }\r\n\r\n    .login-card mat-card-title {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 0.5rem;\r\n      font-size: 1.75rem;\r\n      font-weight: 600;\r\n      color: var(--primary-color);\r\n      margin-bottom: 2rem;\r\n    }\r\n\r\n    .login-form {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 1.5rem;\r\n    }\r\n\r\n    .form-actions {\r\n      margin-top: 1.5rem;\r\n    }\r\n\r\n    .login-btn {\r\n      width: 100%;\r\n      height: 48px;\r\n      font-size: 1.1rem;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .form-links {\r\n      text-align: center;\r\n      margin-top: 1.5rem;\r\n    }\r\n\r\n    .signup-link {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      gap: 1rem;\r\n      padding: 1.5rem 0;\r\n      text-align: center;\r\n      border-top: 1px solid var(--border-color);\r\n      margin-top: 1rem;\r\n    }\r\n\r\n    .signup-link span {\r\n      color: var(--text-secondary);\r\n    }\r\n\r\n    .signup-link button {\r\n      width: 100%;\r\n      height: 44px;\r\n    }\r\n\r\n    /* Ensure the create account button has strong contrast */\r\n    .create-account-btn {\r\n      font-weight: 600;\r\n      box-shadow: var(--shadow-hover);\r\n    }\r\n    /* Ensure strong, accessible contrast for the flat button */\r\n    .create-account-btn {\r\n      background: var(--primary-color);\r\n      color: #fff;\r\n      border-radius: 6px;\r\n      box-shadow: var(--shadow-hover);\r\n    }\r\n\r\n    @media (max-width: 768px) {\r\n      .auth-container {\r\n        grid-template-columns: 1fr;\r\n        max-width: 400px;\r\n      }\r\n      \r\n      .auth-image {\r\n        height: 200px;\r\n      }\r\n      \r\n      .auth-form {\r\n        padding: 2rem 1rem;\r\n      }\r\n    }\r\n  `]\r\n})\r\nexport class LoginComponent {\r\n  loading = false;\r\n  errorMessage = '';\r\n\r\n  formData: { email: string; password: string } = {\r\n    email: '',\r\n    password: ''\r\n  };\r\n\r\n  constructor(\r\n    private auth: AuthService,\r\n    private token: TokenService,\r\n    private router: Router\r\n  ) {}\r\n\r\n  onLogin() {\r\n    if (!this.formData.email || !this.formData.password) return;\r\n\r\n    this.loading = true;\r\n    this.errorMessage = '';\r\n\r\n    this.auth.login(this.formData).subscribe({\r\n      next: (res: any) => {\r\n        this.loading = false;\r\n        this.token.saveAuth(res.token, res.role);\r\n\r\n        if (res.role === 'NGO') {\r\n          this.router.navigate(['/ngo/dashboard']);\r\n        } else if (res.role === 'Donor') {\r\n          this.router.navigate(['/donations']);\r\n        } else {\r\n          this.router.navigate(['/admin/dashboard']);\r\n        }\r\n      },\r\n      error: (err) => {\r\n        this.loading = false;\r\n        this.errorMessage = err?.error?.message || 'Invalid email or password';\r\n        if (typeof window !== 'undefined' && window.alert) {\r\n          window.alert(this.errorMessage);\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDoB,IAAA,oBAAA,GAAA,eAAA,EAAA;;;;;AACA,IAAA,yBAAA,GAAA,UAAA;AAA2B,IAAA,iBAAA,GAAA,OAAA;AAAK,IAAA,uBAAA;;;AA2K9C,IAAO,iBAAP,MAAO,gBAAc;EAUf;EACA;EACA;EAXV,UAAU;EACV,eAAe;EAEf,WAAgD;IAC9C,OAAO;IACP,UAAU;;EAGZ,YACU,MACA,OACA,QAAc;AAFd,SAAA,OAAA;AACA,SAAA,QAAA;AACA,SAAA,SAAA;EACP;EAEH,UAAO;AACL,QAAI,CAAC,KAAK,SAAS,SAAS,CAAC,KAAK,SAAS;AAAU;AAErD,SAAK,UAAU;AACf,SAAK,eAAe;AAEpB,SAAK,KAAK,MAAM,KAAK,QAAQ,EAAE,UAAU;MACvC,MAAM,CAAC,QAAY;AACjB,aAAK,UAAU;AACf,aAAK,MAAM,SAAS,IAAI,OAAO,IAAI,IAAI;AAEvC,YAAI,IAAI,SAAS,OAAO;AACtB,eAAK,OAAO,SAAS,CAAC,gBAAgB,CAAC;QACzC,WAAW,IAAI,SAAS,SAAS;AAC/B,eAAK,OAAO,SAAS,CAAC,YAAY,CAAC;QACrC,OAAO;AACL,eAAK,OAAO,SAAS,CAAC,kBAAkB,CAAC;QAC3C;MACF;MACA,OAAO,CAAC,QAAO;AACb,aAAK,UAAU;AACf,aAAK,eAAe,KAAK,OAAO,WAAW;AAC3C,YAAI,OAAO,WAAW,eAAe,OAAO,OAAO;AACjD,iBAAO,MAAM,KAAK,YAAY;QAChC;MACF;KACD;EACH;;qCA1CW,iBAAc,4BAAA,WAAA,GAAA,4BAAA,YAAA,GAAA,4BAAA,MAAA,CAAA;EAAA;yEAAd,iBAAc,WAAA,CAAA,CAAA,WAAA,CAAA,GAAA,YAAA,MAAA,UAAA,CAAA,6BAAA,GAAA,OAAA,IAAA,MAAA,GAAA,QAAA,CAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,gBAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,OAAA,kFAAA,OAAA,UAAA,GAAA,CAAA,GAAA,eAAA,GAAA,CAAA,GAAA,WAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,GAAA,cAAA,GAAA,UAAA,GAAA,CAAA,cAAA,SAAA,GAAA,CAAA,YAAA,IAAA,QAAA,SAAA,QAAA,SAAA,YAAA,IAAA,GAAA,iBAAA,SAAA,GAAA,CAAA,aAAA,EAAA,GAAA,CAAA,YAAA,IAAA,QAAA,YAAA,QAAA,YAAA,YAAA,IAAA,GAAA,iBAAA,SAAA,GAAA,CAAA,GAAA,cAAA,GAAA,CAAA,qBAAA,IAAA,SAAA,WAAA,QAAA,UAAA,GAAA,aAAA,GAAA,UAAA,GAAA,CAAA,YAAA,MAAA,GAAA,MAAA,GAAA,CAAA,GAAA,MAAA,GAAA,CAAA,GAAA,YAAA,GAAA,CAAA,cAAA,IAAA,cAAA,oBAAA,SAAA,SAAA,GAAA,CAAA,GAAA,aAAA,GAAA,CAAA,mBAAA,IAAA,SAAA,WAAA,cAAA,WAAA,cAAA,kBAAA,GAAA,oBAAA,GAAA,CAAA,YAAA,IAAA,CAAA,GAAA,UAAA,SAAA,wBAAA,IAAA,KAAA;AAAA,QAAA,KAAA,GAAA;AA/MvB,MAAA,yBAAA,GAAA,OAAA,CAAA,EAAuB,GAAA,OAAA,CAAA,EACO,GAAA,OAAA,CAAA;AAExB,MAAA,oBAAA,GAAA,OAAA,CAAA;AACA,MAAA,yBAAA,GAAA,OAAA,CAAA,EAA2B,GAAA,IAAA;AACrB,MAAA,iBAAA,GAAA,cAAA;AAAY,MAAA,uBAAA;AAChB,MAAA,yBAAA,GAAA,GAAA;AAAG,MAAA,iBAAA,GAAA,gDAAA;AAA8C,MAAA,uBAAA,EAAI,EACjD;AAGR,MAAA,yBAAA,GAAA,OAAA,CAAA,EAAuB,IAAA,YAAA,CAAA,EACQ,IAAA,iBAAA,EACV,IAAA,gBAAA,EACC,IAAA,UAAA;AACJ,MAAA,iBAAA,IAAA,OAAA;AAAK,MAAA,uBAAA;AACf,MAAA,iBAAA,IAAA,2BAAA;AACF,MAAA,uBAAA,EAAiB;AAGnB,MAAA,yBAAA,IAAA,kBAAA,EAAkB,IAAA,QAAA,CAAA;AACV,MAAA,qBAAA,YAAA,SAAA,oDAAA;AAAA,eAAY,IAAA,QAAA;MAAS,CAAA;AACzB,MAAA,yBAAA,IAAA,kBAAA,CAAA,EAAqC,IAAA,WAAA;AACxB,MAAA,iBAAA,IAAA,OAAA;AAAK,MAAA,uBAAA;AAChB,MAAA,yBAAA,IAAA,SAAA,CAAA;AAA6B,MAAA,2BAAA,iBAAA,SAAA,wDAAA,QAAA;AAAA,QAAA,6BAAA,IAAA,SAAA,OAAA,MAAA,MAAA,IAAA,SAAA,QAAA;AAAA,eAAA;MAAA,CAAA;AAA7B,MAAA,uBAAA;AACA,MAAA,yBAAA,IAAA,YAAA,EAAA;AAAoB,MAAA,iBAAA,IAAA,OAAA;AAAK,MAAA,uBAAA,EAAW;AAGtC,MAAA,yBAAA,IAAA,kBAAA,CAAA,EAAqC,IAAA,WAAA;AACxB,MAAA,iBAAA,IAAA,UAAA;AAAQ,MAAA,uBAAA;AACnB,MAAA,yBAAA,IAAA,SAAA,EAAA;AAAgC,MAAA,2BAAA,iBAAA,SAAA,wDAAA,QAAA;AAAA,QAAA,6BAAA,IAAA,SAAA,UAAA,MAAA,MAAA,IAAA,SAAA,WAAA;AAAA,eAAA;MAAA,CAAA;AAAhC,MAAA,uBAAA;AACA,MAAA,yBAAA,IAAA,YAAA,EAAA;AAAoB,MAAA,iBAAA,IAAA,MAAA;AAAI,MAAA,uBAAA,EAAW;AAGrC,MAAA,yBAAA,IAAA,OAAA,EAAA,EAA0B,IAAA,UAAA,EAAA;AAEtB,MAAA,qBAAA,IAAA,wCAAA,GAAA,GAAA,eAAA,EAAA,EAA2C,IAAA,qCAAA,GAAA,GAAA,YAAA,EAAA;AAE3C,MAAA,iBAAA,EAAA;AACF,MAAA,uBAAA,EAAS;AAGX,MAAA,yBAAA,IAAA,OAAA,EAAA,EAAwB,IAAA,KAAA,EAAA,EACsC,IAAA,UAAA;AAChD,MAAA,iBAAA,IAAA,MAAA;AAAI,MAAA,uBAAA;AACd,MAAA,iBAAA,IAAA,oBAAA;AACF,MAAA,uBAAA,EAAI,EACA,EACD;AAGT,MAAA,yBAAA,IAAA,kBAAA,EAAkB,IAAA,OAAA,EAAA,EACS,IAAA,MAAA;AACjB,MAAA,iBAAA,IAAA,wBAAA;AAAsB,MAAA,uBAAA;AAC5B,MAAA,yBAAA,IAAA,UAAA,EAAA,EAAoH,IAAA,UAAA;AACxG,MAAA,iBAAA,IAAA,YAAA;AAAU,MAAA,uBAAA;AACpB,MAAA,iBAAA,IAAA,kBAAA;AACF,MAAA,uBAAA,EAAS,EACL,EACW,EACV,EACP,EACF;;;AAtCmC,MAAA,oBAAA,EAAA;AAAA,MAAA,2BAAA,WAAA,IAAA,SAAA,KAAA;AAMG,MAAA,oBAAA,CAAA;AAAA,MAAA,2BAAA,WAAA,IAAA,SAAA,QAAA;AAKwB,MAAA,oBAAA,CAAA;AAAA,MAAA,qBAAA,YAAA,IAAA,OAAA;AACxC,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,IAAA,OAAA;AACH,MAAA,oBAAA;AAAA,MAAA,qBAAA,QAAA,CAAA,IAAA,OAAA;AACX,MAAA,oBAAA;AAAA,MAAA,6BAAA,KAAA,IAAA,UAAA,kBAAA,WAAA,GAAA;;oBAvCR,YAAY,aAAW,oBAAA,sBAAA,iBAAA,sBAAA,mBAAA,SAAA,QAAE,MAAM,eAAa,SAAA,gBAAA,gBAAA,eAAA,cAAE,iBAAe,WAAA,WAAE,eAAa,SAAE,oBAAkB,cAAA,UAAA,WAAE,gBAAc,UAAE,0BAAwB,kBAAA,GAAA,QAAA,CAAA,uzFAAA,EAAA,CAAA;;;6EAiNzI,gBAAc,EAAA,WAAA,kBAAA,UAAA,6CAAA,YAAA,IAAA,CAAA;AAAA,GAAA;",
  "names": []
}
