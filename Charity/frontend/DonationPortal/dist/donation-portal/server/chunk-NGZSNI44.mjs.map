{
  "version": 3,
  "sources": ["src/app/donations/history/history.component.ts"],
  "sourcesContent": ["import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from '../../shared/services/api.service';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgIf, NgFor, DatePipe, LowerCasePipe, NgClass } from '@angular/common';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatChipsModule } from '@angular/material/chips';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\n\r\n@Component({\r\n  selector: 'app-history',\r\n  standalone: true,\r\n  imports: [FormsModule, NgIf, NgFor, DatePipe, LowerCasePipe, NgClass, MatCardModule, MatIconModule, MatChipsModule, MatFormFieldModule, MatSelectModule, MatProgressSpinnerModule],\r\n  template: `\r\n    <div class=\"page-wrapper\">\r\n      <div class=\"header-section\">\r\n        <h1>Your <span class=\"highlight\">Donation History</span></h1>\r\n        <p>Track your completed and scheduled contributions</p>\r\n      </div>\r\n\r\n      <div class=\"filter-section\">\r\n        <mat-form-field appearance=\"outline\">\r\n          <mat-label>Filter by Status</mat-label>\r\n          <mat-select [(ngModel)]=\"filter\">\r\n            <mat-option value=\"All\">All Status</mat-option>\r\n            <mat-option value=\"PickedUp\">Completed</mat-option>\r\n            <mat-option value=\"Scheduled\">Scheduled</mat-option>\r\n            <mat-option value=\"Cancelled\">Cancelled</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n\r\n      <div *ngIf=\"loading\" class=\"loading-section\">\r\n        <mat-spinner></mat-spinner>\r\n        <p>Loading your history...</p>\r\n      </div>\r\n\r\n      <div *ngIf=\"!loading && filteredItems().length === 0\" class=\"empty-state\">\r\n        <img src=\"https://images.unsplash.com/photo-1584464491033-06628f3a6b7b?w=300&h=200&fit=crop\" alt=\"empty\">\r\n        <mat-icon class=\"empty-icon\">history</mat-icon>\r\n        <h3>No contributions found</h3>\r\n        <p>Your donation history will appear here once you make contributions</p>\r\n      </div>\r\n\r\n      <div class=\"history-grid\" *ngIf=\"!loading && filteredItems().length > 0\">\r\n        <mat-card *ngFor=\"let h of filteredItems()\" class=\"history-card\">\r\n          <div class=\"card-header\">\r\n            <img [src]=\"getImageForType(h.donation_type)\" alt=\"donation\" class=\"card-image\">\r\n            <mat-chip-set class=\"status-chips\">\r\n              <mat-chip [class]=\"getStatusClass(h.status)\">{{ h.status }}</mat-chip>\r\n            </mat-chip-set>\r\n          </div>\r\n\r\n          <mat-card-content>\r\n            <h3>{{ h.donation_type }}</h3>\r\n            <div class=\"history-details\">\r\n              <div class=\"detail-item\">\r\n                <mat-icon>location_on</mat-icon>\r\n                <span>{{ h.location }}</span>\r\n              </div>\r\n              <div class=\"detail-item\">\r\n                <mat-icon>inventory</mat-icon>\r\n                <span>Contributed: {{ h.contribution_quantity }}</span>\r\n              </div>\r\n              <div class=\"detail-item\">\r\n                <mat-icon>schedule</mat-icon>\r\n                <span>{{ h.pickup_date_time | date:'MMM d, h:mm a' }}</span>\r\n              </div>\r\n            </div>\r\n          </mat-card-content>\r\n        </mat-card>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .page-wrapper {\r\n      padding: 80px 2rem 2rem;\r\n      max-width: 1200px;\r\n      margin: 0 auto;\r\n      background: var(--background);\r\n    }\r\n\r\n    .header-section {\r\n      text-align: center;\r\n      margin-bottom: 3rem;\r\n    }\r\n\r\n    .header-section h1 {\r\n      font-size: 2.5rem;\r\n      font-weight: 700;\r\n      color: var(--text-primary);\r\n      margin-bottom: 0.5rem;\r\n    }\r\n\r\n    .highlight {\r\n      color: var(--primary-color);\r\n    }\r\n\r\n    .header-section p {\r\n      color: var(--text-secondary);\r\n      font-size: 1.1rem;\r\n    }\r\n\r\n    .filter-section {\r\n      max-width: 300px;\r\n      margin: 0 auto 2rem;\r\n    }\r\n\r\n    .loading-section,\r\n    .empty-state {\r\n      text-align: center;\r\n      padding: 4rem 2rem;\r\n    }\r\n\r\n    .empty-state img {\r\n      width: 300px;\r\n      height: 200px;\r\n      object-fit: cover;\r\n      border-radius: var(--radius);\r\n      margin-bottom: 1.5rem;\r\n    }\r\n\r\n    .empty-icon {\r\n      font-size: 4rem !important;\r\n      margin-bottom: 1rem;\r\n      opacity: 0.5;\r\n      color: var(--text-secondary);\r\n    }\r\n\r\n    .history-grid {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\r\n      gap: 2rem;\r\n    }\r\n\r\n    .history-card {\r\n      border-radius: var(--radius-lg);\r\n      overflow: hidden;\r\n      transition: all 0.3s ease;\r\n      background: var(--surface);\r\n    }\r\n\r\n    .history-card:hover {\r\n      transform: translateY(-4px);\r\n      box-shadow: var(--shadow-hover);\r\n    }\r\n\r\n    .card-header {\r\n      position: relative;\r\n    }\r\n\r\n    .card-image {\r\n      width: 100%;\r\n      height: 200px;\r\n      object-fit: cover;\r\n    }\r\n\r\n    .status-chips {\r\n      position: absolute;\r\n      top: 12px;\r\n      right: 12px;\r\n    }\r\n\r\n    .history-details {\r\n      margin: 1.5rem 0;\r\n    }\r\n\r\n    .detail-item {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: 0.75rem;\r\n      margin-bottom: 0.75rem;\r\n      color: var(--text-secondary);\r\n    }\r\n\r\n    .detail-item mat-icon {\r\n      font-size: 1.25rem !important;\r\n      color: var(--primary-color);\r\n    }\r\n\r\n    .status-pickedup,\r\n    .status-completed {\r\n      background-color: var(--success-color) !important;\r\n      color: white !important;\r\n    }\r\n\r\n    .status-scheduled {\r\n      background-color: var(--warning-color) !important;\r\n      color: white !important;\r\n    }\r\n\r\n    .status-cancelled {\r\n      background-color: var(--error-color) !important;\r\n      color: white !important;\r\n    }\r\n\r\n    @media (max-width: 768px) {\r\n      .history-grid {\r\n        grid-template-columns: 1fr;\r\n      }\r\n      \r\n      .page-wrapper {\r\n        padding: 80px 1rem 2rem;\r\n      }\r\n    }\r\n  `]\r\n})\r\nexport class HistoryComponent implements OnInit {\r\n  history: any[] = [];\r\n  loading = false;\r\n  filter = 'All';\r\n\r\n  constructor(private api: ApiService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.loadHistory();\r\n  }\r\n\r\n  loadHistory() {\r\n    this.loading = true;\r\n\r\n    this.api.get('/contributions/donor/me').subscribe({\r\n      next: (res: any) => {\r\n        this.history = res || [];\r\n        this.loading = false;\r\n      },\r\n      error: () => {\r\n        this.loading = false;\r\n        if (typeof window !== 'undefined' && window.alert) {\r\n          window.alert('Failed to load contribution history');\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  filteredItems() {\r\n    if (this.filter === 'All') return this.history;\r\n    return this.history.filter(h => h.status === this.filter);\r\n  }\r\n\r\n  getStatusClass(status: string): string {\r\n    return `status-${status.toLowerCase()}`;\r\n  }\r\n\r\n  getImageForType(type: string): string {\r\n    const images = {\r\n      'Food': 'https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?w=400&h=250&fit=crop',\r\n      'Clothes': 'https://images.unsplash.com/photo-1593113598332-cd288d649433?w=400&h=250&fit=crop',\r\n      'Funds': 'https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=400&h=250&fit=crop',\r\n      'Medicine': 'https://images.unsplash.com/photo-1469571486292-0ba58a3f068b?w=400&h=250&fit=crop',\r\n      'Other': 'https://images.unsplash.com/photo-1559027615-cd4628902d4a?w=400&h=250&fit=crop'\r\n    };\r\n    return images[type as keyof typeof images] || images['Other'];\r\n  }\r\n}\r\n"],
  "mappings": "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",
  "names": []
}
